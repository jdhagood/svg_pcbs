/* 
@version: v0.2.0

a basic starter design 
*/

/* -- DECLARE_PCB -- */
const board = new PCB();

/* -- DECLARE_COMPONENTS -- */
const slide_switch = footprint({"1":{"shape":"M -0.0195,0.0235L 0.0195,0.0235L 0.0195,-0.0235L -0.0195,-0.0235L -0.0195,0.0235","pos":[-0.098,0.1],"layers":["F.Cu","F.Mask"],"index":1},"2":{"shape":"M -0.0195,0.0235L 0.0195,0.0235L 0.0195,-0.0235L -0.0195,-0.0235L -0.0195,0.0235","pos":[0,0.1],"layers":["F.Cu","F.Mask"],"index":2},"3":{"shape":"M -0.0195,0.0235L 0.0195,0.0235L 0.0195,-0.0235L -0.0195,-0.0235L -0.0195,0.0235","pos":[0.098,0.1],"layers":["F.Cu","F.Mask"],"index":3}});
const SAMTEC_SS = footprint({"01":{"pos":[0,0],"shape":"M -0.01988188976377953 0.01988188976377953 L 0.01988188976377953 0.01988188976377953 L 0.01988188976377953 -0.01988188976377953 L -0.01988188976377953 -0.01988188976377953 L -0.01988188976377953 0.01988188976377953 ","layers":["F.Cu","B.Cu","F.Mask","B.Mask"],"drill":{"diameter":0.025984251968503937,"start":"F.Cu","end":"B.Cu","plated":true}},"02":{"pos":[-0.1,0],"shape":"M 0.01988188976377953 0 L 0.019869778253726118 0.0006938679462505115 L 0.019833458479575246 0.0013868905212906803 L 0.01977297469137709 0.002078223383864764 L 0.01968840057931075 0.00276702425137138 L 0.019579839183904137 0.0034524539260551114 L 0.01944742277049496 0.0041336773174397035 L 0.01929131266808576 0.004809864459757174 L 0.019111699072789413 0.005480191523133252 L 0.01890880081610443 0.006143841817297183 L 0.018682865098302512 0.00680000678659302 L 0.018434167187253058 0.007447886995080141 L 0.01816301008305171 0.0080866931005228 L 0.017869724148861392 0.008715646816082051 L 0.017554666708415677 0.009333981858538381 L 0.017218221610674864 0.009940944881889763 L 0.016860798762165164 0.010535796395187737 L 0.01648283362757071 0.011117811663493198 L 0.016084786699186948 0.011686281590854289 L 0.015667142935881676 0.012240513584230608 L 0.015230411172247398 0.012779832397311116 L 0.014775123498664729 0.013303580953197773 L 0.014301834613032239 0.013811121144952506 L 0.013811121144952506 0.014301834613032237 L 0.013303580953197773 0.014775123498664729 L 0.012779832397311118 0.015230411172247398 L 0.012240513584230608 0.01566714293588168 L 0.011686281590854289 0.016084786699186948 L 0.011117811663493194 0.016482833627570713 L 0.010535796395187737 0.016860798762165164 L 0.009940944881889766 0.017218221610674864 L 0.009333981858538383 0.017554666708415673 L 0.008715646816082053 0.017869724148861392 L 0.0080866931005228 0.01816301008305171 L 0.00744788699508014 0.018434167187253058 L 0.006800006786593022 0.01868286509830251 L 0.006143841817297184 0.01890880081610443 L 0.005480191523133252 0.019111699072789413 L 0.004809864459757173 0.01929131266808576 L 0.004133677317439706 0.019447422770494955 L 0.0034524539260551127 0.019579839183904137 L 0.0027670242513713806 0.01968840057931075 L 0.002078223383864764 0.01977297469137709 L 0.001386890521290679 0.019833458479575246 L 0.0006938679462505136 0.019869778253726118 L 1.2174146330106563e-18 0.01988188976377953 L -0.0006938679462505111 0.019869778253726118 L -0.001386890521290681 0.019833458479575246 L -0.0020782233838647656 0.01977297469137709 L -0.0027670242513713784 0.01968840057931075 L -0.0034524539260551105 0.019579839183904137 L -0.0041336773174397035 0.01944742277049496 L -0.004809864459757175 0.01929131266808576 L -0.005480191523133249 0.019111699072789413 L -0.006143841817297182 0.018908800816104434 L -0.00680000678659302 0.018682865098302512 L -0.007447886995080142 0.018434167187253058 L -0.0080866931005228 0.01816301008305171 L -0.008715646816082053 0.017869724148861392 L -0.009333981858538383 0.017554666708415673 L -0.00994094488188976 0.017218221610674864 L -0.010535796395187733 0.016860798762165164 L -0.011117811663493193 0.016482833627570713 L -0.011686281590854287 0.016084786699186948 L -0.012240513584230608 0.01566714293588168 L -0.012779832397311118 0.015230411172247398 L -0.013303580953197773 0.014775123498664729 L -0.013811121144952507 0.014301834613032237 L -0.014301834613032239 0.013811121144952504 L -0.014775123498664725 0.013303580953197775 L -0.015230411172247396 0.012779832397311121 L -0.015667142935881676 0.012240513584230612 L -0.016084786699186945 0.011686281590854292 L -0.01648283362757071 0.011117811663493198 L -0.016860798762165164 0.010535796395187737 L -0.017218221610674864 0.009940944881889763 L -0.017554666708415677 0.00933398185853838 L -0.017869724148861392 0.00871564681608205 L -0.018163010083051708 0.008086693100522804 L -0.018434167187253055 0.007447886995080146 L -0.01868286509830251 0.006800006786593023 L -0.01890880081610443 0.006143841817297185 L -0.019111699072789413 0.005480191523133253 L -0.01929131266808576 0.004809864459757174 L -0.01944742277049496 0.0041336773174397035 L -0.019579839183904137 0.00345245392605511 L -0.01968840057931075 0.0027670242513713776 L -0.01977297469137709 0.002078223383864769 L -0.019833458479575246 0.0013868905212906847 L -0.019869778253726118 0.0006938679462505149 L -0.01988188976377953 2.4348292660213127e-18 L -0.019869778253726118 -0.00069386794625051 L -0.019833458479575246 -0.0013868905212906797 L -0.01977297469137709 -0.0020782233838647648 L -0.019688400579310747 -0.0027670242513713815 L -0.019579839183904137 -0.003452453926055114 L -0.019447422770494955 -0.004133677317439707 L -0.01929131266808576 -0.0048098644597571695 L -0.019111699072789413 -0.005480191523133248 L -0.018908800816104434 -0.006143841817297181 L -0.018682865098302512 -0.006800006786593019 L -0.018434167187253058 -0.007447886995080141 L -0.01816301008305171 -0.0080866931005228 L -0.017869724148861392 -0.008715646816082053 L -0.017554666708415673 -0.009333981858538383 L -0.017218221610674864 -0.009940944881889766 L -0.016860798762165164 -0.010535796395187733 L -0.016482833627570716 -0.011117811663493193 L -0.01608478669918695 -0.011686281590854287 L -0.01566714293588168 -0.012240513584230606 L -0.015230411172247398 -0.012779832397311116 L -0.014775123498664729 -0.013303580953197773 L -0.014301834613032237 -0.013811121144952507 L -0.013811121144952506 -0.014301834613032239 L -0.013303580953197771 -0.014775123498664732 L -0.012779832397311121 -0.015230411172247396 L -0.012240513584230605 -0.01566714293588168 L -0.011686281590854292 -0.016084786699186945 L -0.011117811663493191 -0.016482833627570716 L -0.010535796395187738 -0.016860798762165164 L -0.009940944881889773 -0.01721822161067486 L -0.00933398185853838 -0.017554666708415677 L -0.008715646816082058 -0.01786972414886139 L -0.008086693100522797 -0.018163010083051715 L -0.007447886995080147 -0.018434167187253055 L -0.006800006786593017 -0.018682865098302512 L -0.006143841817297186 -0.01890880081610443 L -0.005480191523133246 -0.019111699072789416 L -0.004809864459757175 -0.01929131266808576 L -0.004133677317439712 -0.019447422770494955 L -0.0034524539260551114 -0.019579839183904137 L -0.0027670242513713876 -0.019688400579310747 L -0.0020782233838647617 -0.01977297469137709 L -0.0013868905212906857 -0.019833458479575246 L -0.0006938679462505073 -0.019869778253726118 L -3.6522438990319685e-18 -0.01988188976377953 L 0.0006938679462505176 -0.019869778253726118 L 0.0013868905212906786 -0.01983345847957525 L 0.0020782233838647544 -0.01977297469137709 L 0.0027670242513713806 -0.01968840057931075 L 0.003452453926055104 -0.01957983918390414 L 0.004133677317439705 -0.019447422770494955 L 0.004809864459757169 -0.019291312668085762 L 0.005480191523133256 -0.01911169907278941 L 0.006143841817297179 -0.018908800816104434 L 0.006800006786593026 -0.01868286509830251 L 0.00744788699508014 -0.018434167187253058 L 0.00808669310052279 -0.018163010083051715 L 0.008715646816082051 -0.017869724148861392 L 0.009333981858538374 -0.017554666708415677 L 0.009940944881889766 -0.017218221610674864 L 0.010535796395187732 -0.016860798762165168 L 0.0111178116634932 -0.01648283362757071 L 0.011686281590854285 -0.01608478669918695 L 0.012240513584230613 -0.015667142935881676 L 0.012779832397311116 -0.015230411172247401 L 0.013303580953197764 -0.014775123498664736 L 0.013811121144952506 -0.014301834613032239 L 0.014301834613032232 -0.013811121144952513 L 0.014775123498664729 -0.013303580953197771 L 0.015230411172247394 -0.012779832397311123 L 0.01566714293588168 -0.012240513584230606 L 0.016084786699186945 -0.011686281590854294 L 0.016482833627570716 -0.011117811663493191 L 0.016860798762165164 -0.010535796395187738 L 0.01721822161067486 -0.009940944881889773 L 0.017554666708415673 -0.009333981858538381 L 0.01786972414886139 -0.008715646816082058 L 0.018163010083051715 -0.008086693100522799 L 0.018434167187253055 -0.0074478869950801475 L 0.018682865098302512 -0.006800006786593018 L 0.01890880081610443 -0.006143841817297189 L 0.019111699072789413 -0.005480191523133247 L 0.01929131266808576 -0.004809864459757176 L 0.019447422770494955 -0.004133677317439714 L 0.019579839183904137 -0.0034524539260551122 L 0.019688400579310747 -0.002767024251371389 L 0.01977297469137709 -0.002078223383864763 L 0.019833458479575246 -0.001386890521290687 L 0.019869778253726118 -0.0006938679462505085 L 0.01988188976377953 0 ","layers":["F.Cu","B.Cu","F.Mask","B.Mask"],"drill":{"diameter":0.025984251968503937,"start":"F.Cu","end":"B.Cu","plated":true}}});
const regulator_SOT223 = footprint({"G":{"shape":"M -0.02,0.03L 0.02,0.03L 0.02,-0.03L -0.02,-0.03L -0.02,0.03","pos":[-0.09,-0.12],"layers":["F.Cu","F.Mask"],"index":1},"O":{"shape":"M -0.02,0.03L 0.02,0.03L 0.02,-0.03L -0.02,-0.03L -0.02,0.03","pos":[0,-0.12],"layers":["F.Cu","F.Mask"],"index":2},"I":{"shape":"M -0.02,0.03L 0.02,0.03L 0.02,-0.03L -0.02,-0.03L -0.02,0.03","pos":[0.09,-0.12],"layers":["F.Cu","F.Mask"],"index":3},"out":{"shape":"M -0.065,0.03L 0.065,0.03L 0.065,-0.03L -0.065,-0.03L -0.065,0.03","pos":[0,0.12],"layers":["F.Cu","F.Mask"],"index":4}});
const ATtiny3216 = footprint({"VCC":{"shape":"M 0.0374,0.0124L -0.0374,0.0124L -0.0378,0.0124L -0.0383,0.0124L -0.0391,0.0123L -0.0404,0.012L -0.0408,0.0119L -0.0412,0.0118L -0.0416,0.0116L -0.0421,0.0115L -0.0428,0.0112L -0.0436,0.0107L -0.044,0.0105L -0.0444,0.0103L -0.0454,0.0095L -0.046,0.0089L -0.0463,0.0086L -0.0466,0.0083L -0.0469,0.008L -0.0477,0.0069L -0.0479,0.0066L -0.0482,0.0062L -0.0483,0.0058L -0.0486,0.0055L -0.0487,0.0051L -0.0489,0.0046L -0.0491,0.0042L -0.0492,0.0039L -0.0493,0.0034L -0.0494,0.003L -0.0495,0.0026L -0.0496,0.0022L -0.0498,0.0004L -0.0498,-0.0004L -0.0496,-0.0022L -0.0495,-0.0026L -0.0494,-0.003L -0.0493,-0.0034L -0.0492,-0.0039L -0.0491,-0.0042L -0.0489,-0.0046L -0.0487,-0.0051L -0.0486,-0.0055L -0.0483,-0.0058L -0.0482,-0.0062L -0.0479,-0.0066L -0.0477,-0.0069L -0.0469,-0.008L -0.0466,-0.0083L -0.0463,-0.0086L -0.046,-0.0089L -0.0454,-0.0095L -0.0444,-0.0103L -0.044,-0.0105L -0.0436,-0.0107L -0.0428,-0.0112L -0.0421,-0.0115L -0.0416,-0.0116L -0.0412,-0.0118L -0.0408,-0.0119L -0.0404,-0.012L -0.0391,-0.0123L -0.0383,-0.0124L -0.0378,-0.0124L -0.0374,-0.0124L 0.0374,-0.0124L 0.0374,0.0124","pos":[-0.1933,0.225],"layers":["F.Cu","F.Mask"],"index":1},"PA4":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[-0.1933,0.175],"layers":["F.Cu","F.Mask"],"index":2},"PA5":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[-0.1933,0.125],"layers":["F.Cu","F.Mask"],"index":3},"PA6":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[-0.1933,0.075],"layers":["F.Cu","F.Mask"],"index":4},"PA7":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[-0.1933,0.025],"layers":["F.Cu","F.Mask"],"index":5},"PB5":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[-0.1933,-0.025],"layers":["F.Cu","F.Mask"],"index":6},"PB4":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[-0.1933,-0.075],"layers":["F.Cu","F.Mask"],"index":7},"RB3":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[-0.1933,-0.125],"layers":["F.Cu","F.Mask"],"index":8},"TB2":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[-0.1933,-0.175],"layers":["F.Cu","F.Mask"],"index":9},"PB1":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[-0.1933,-0.225],"layers":["F.Cu","F.Mask"],"index":10},"PB0":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[0.1933,-0.225],"layers":["F.Cu","F.Mask"],"index":11},"PC0":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[0.1933,-0.175],"layers":["F.Cu","F.Mask"],"index":12},"PC1":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[0.1933,-0.125],"layers":["F.Cu","F.Mask"],"index":13},"PC2":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[0.1933,-0.075],"layers":["F.Cu","F.Mask"],"index":14},"PC3":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[0.1933,-0.025],"layers":["F.Cu","F.Mask"],"index":15},"UPDI":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[0.1933,0.025],"layers":["F.Cu","F.Mask"],"index":16},"PA1":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[0.1933,0.075],"layers":["F.Cu","F.Mask"],"index":17},"PA2":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[0.1933,0.125],"layers":["F.Cu","F.Mask"],"index":18},"PA3":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[0.1933,0.175],"layers":["F.Cu","F.Mask"],"index":19},"GND":{"shape":"M -0.0374,0.0124L 0.0374,0.0124L 0.0374,-0.0124L -0.0374,-0.0124L -0.0374,0.0124","pos":[0.1933,0.225],"layers":["F.Cu","F.Mask"],"index":20}});
const button_6mm = footprint({"L1":{"shape":"M -0.04,0.03L 0.04,0.03L 0.04,-0.03L -0.04,-0.03L -0.04,0.03","pos":[-0.125,0.08],"layers":["F.Cu","F.Mask"],"index":1},"R1":{"shape":"M -0.04,0.03L 0.04,0.03L 0.04,-0.03L -0.04,-0.03L -0.04,0.03","pos":[-0.125,-0.08],"layers":["F.Cu","F.Mask"],"index":2},"R2":{"shape":"M -0.04,0.03L 0.04,0.03L 0.04,-0.03L -0.04,-0.03L -0.04,0.03","pos":[0.125,-0.08],"layers":["F.Cu","F.Mask"],"index":3},"L2":{"shape":"M -0.04,0.03L 0.04,0.03L 0.04,-0.03L -0.04,-0.03L -0.04,0.03","pos":[0.125,0.08],"layers":["F.Cu","F.Mask"],"index":4}});
const R_1206 = footprint({"1":{"shape":"M -0.032,0.034L 0.032,0.034L 0.032,-0.034L -0.032,-0.034L -0.032,0.034","pos":[-0.06,0],"layers":["F.Cu","F.Mask"],"index":1},"2":{"shape":"M -0.032,0.034L 0.032,0.034L 0.032,-0.034L -0.032,-0.034L -0.032,0.034","pos":[0.06,0],"layers":["F.Cu","F.Mask"],"index":2}});
const neo_pixel = footprint({ "1": { "pos": [-0.09645669291338584, 0.06299212598425197], "shape": "M -0.02952755905511811 0.01968503937007874 L 0.02952755905511811 0.01968503937007874 L 0.02952755905511811 -0.01968503937007874 L -0.02952755905511811 -0.01968503937007874 L -0.02952755905511811 0.01968503937007874 ", "layers": ["F.Cu", "F.Mask", "F.Paste"] }, "2": { "pos": [-0.09645669291338584, -0.06299212598425197], "shape": "M -0.02952755905511811 0.01968503937007874 L 0.02952755905511811 0.01968503937007874 L 0.02952755905511811 -0.01968503937007874 L -0.02952755905511811 -0.01968503937007874 L -0.02952755905511811 0.01968503937007874 ", "layers": ["F.Cu", "F.Mask", "F.Paste"] }, "3": { "pos": [0.09645669291338584, -0.06299212598425197], "shape": "M -0.02952755905511811 0.01968503937007874 L 0.02952755905511811 0.01968503937007874 L 0.02952755905511811 -0.01968503937007874 L -0.02952755905511811 -0.01968503937007874 L -0.02952755905511811 0.01968503937007874 ", "layers": ["F.Cu", "F.Mask", "F.Paste"] }, "4": { "pos": [0.09645669291338584, 0.06299212598425197], "shape": "M -0.02952755905511811 0.01968503937007874 L 0.02952755905511811 0.01968503937007874 L 0.02952755905511811 -0.01968503937007874 L -0.02952755905511811 -0.01968503937007874 L -0.02952755905511811 0.01968503937007874 ", "layers": ["F.Cu", "F.Mask", "F.Paste"] } });

/* -- CONSTANTS -- */
const width = 1;
const height = 1;

let x_length = 4;
let y_length = 4;
let spacing = 0.3;

/* -- STORE COMPONENT REFERENCES -- */
let neo_grid = []; // Array to store references to each NeoPixel component

/* -- ADD_COMPONENTS -- */
const slide_switch_V9J = board.add(slide_switch, { translate: pt(1.05, -0.65), rotate: 0, id: "slide_switch_V9J" })
const two_holes = board.add(SAMTEC_SS, { translate: pt(1, -0.35), rotate: 0, id: "SAMTEC_SS_7XO" })
const ATtiny3216_Aw1 = board.add(ATtiny3216, { translate: pt(0.1, -0.5), rotate: 0, id: "ATtiny3216_Aw1" })
const button_6mm_95Y = board.add(button_6mm, { translate: pt(0.6, -1.2), rotate: 0, id: "button_6mm_95Y" })
const button_6mm_nHn = board.add(button_6mm, { translate: pt(0.6, -0.95), rotate: 0, id: "button_6mm_nHn" })
const button_6mm_usE = board.add(button_6mm, { translate: pt(0.95, -0.95), rotate: 0, id: "button_6mm_usE" })
const button_6mm_mMG = board.add(button_6mm, { translate: pt(0.25, -0.95), rotate: 0, id: "button_6mm_mMG" })
const button_6mm_zc7 = board.add(button_6mm, { translate: pt(0.6, -0.7), rotate: 0, id: "button_6mm_zc7" })
const R_1206_JOe = board.add(R_1206, { translate: pt(1.15, 0.1), rotate: 0, id: "R_1206_JOe" })
for (let x = 0; x < x_length; x++) {
  let row = [];
  for (let y = 0; y < y_length; y++) {
    let rotation = 0
    if (y % 2 == 1) {
      rotation = 180
    }
    const neo = board.add(neo_pixel, {
      translate: pt(x * spacing, y * spacing),
      rotate: rotation,
      id: "LED_RGB_" + String(x) + "_" + String(y)
    });
    row.push(neo); // Store each neo component in the row array
  }
  neo_grid.push(row); // Push each row to the neo_grid
}

/* -- BOARD_SIZE_SHAPE -- */
let x_min = -0.35;
let y_max = 1.15;
let x_max = 1.25;
let y_min = -1.5;
const outline = path(
  [x_min, y_max],
  [x_max, y_max],
  [x_max, y_min],
  [x_min, y_min]
);
board.addShape("outline", outline);

/* -- ADD_WIRES -- */
let offset = 0.02
board.wire(
  path(
    [x_min+offset, y_max - offset],
    [x_max-offset, y_max-offset],
    [x_max-offset, y_min+offset],
    [x_min+offset, y_min+offset],
    [x_min+offset, y_max-offset]
  ),
  0.04
);

offset = 0.1
board.wire(
  path(
    [x_min+offset, y_max - offset],
    [x_max-offset, y_max-offset],
    [x_max-offset, y_min+offset],
    [x_min+offset, y_min+offset],
    [x_min+offset, y_max-offset]
  ),
  0.02
);

let vert_offset = 0.05
for (let y = 0; y < y_length; y++) {
  for (let x = x_length - 1; x > 0; x--) {
    const neo = neo_grid[x][y];
    const next_neo = neo_grid[x - 1][y];
    let pad_1 = "2";
    let pad_2 = "4";
    if (y % 2 == 1) {
      pad_1 = "4";
      pad_2 = "2";
    }
    board.wire(
      path(neo.pad(pad_1), next_neo.pad(pad_2)),
      0.025
    );
    let offset_dir = -vert_offset;
    if (y % 2 == 1) {
      offset_dir = vert_offset;
    }
      board.wire(
      path(neo.pad("3"), 
           [neo.pad("3")[0], neo.pad("3")[1]+offset_dir], 
           [next_neo.pad("3")[0], next_neo.pad("3")[1]+offset_dir],
           next_neo.pad("3")),
      0.025
      );
    board.wire(
      path(neo.pad("1"), 
           [neo.pad("1")[0], neo.pad("1")[1]-offset_dir], 
           [next_neo.pad("1")[0], next_neo.pad("1")[1]-offset_dir],
           next_neo.pad("1")),
      0.025
      );
  }
  if (y < y_length - 1) {
    if (y % 2 == 0) {
      const neo = neo_grid[0][y];
      const next_neo = neo_grid[0][y + 1];
      board.wire(
        path(neo.pad("2"),
          [neo.pad("2")[0] - 0.075, neo.pad("2")[1]],
          [neo.pad("2")[0] - 0.075, next_neo.pad("4")[1]],
          next_neo.pad("4")),
        0.025
      );
    } else {
      const neo = neo_grid[x_length - 1][y];
      const next_neo = neo_grid[x_length - 1][y + 1];
      board.wire(
        path(neo.pad("2"),
          [neo.pad("2")[0] + 0.075, neo.pad("2")[1]],
          [neo.pad("2")[0] + 0.075, next_neo.pad("4")[1]],
          next_neo.pad("4")),
        0.025
      );
    }
  }
}

/* -- RENDER_PCB -- */
const limit0 = pt(-0.4, -1.55);
const limit1 = pt(1.3, 1.2);
const xMin = Math.min(limit0[0], limit1[0]);
const xMax = Math.max(limit0[0], limit1[0]);
const yMin = Math.min(limit0[1], limit1[1]);
const yMax = Math.max(limit0[1], limit1[1]);

renderPCB({
  pcb: board,
  layerColors: {
    "outline": "#002d00ff",
    "B.Cu": "#ff4c007f",
    "F.Cu": "#ff8c00cc",
    "B.Mask": "#00000000",
    "F.Mask": "#00000000",
    "padLabels": "#ffff99e5",
    "componentLabels": "#00e5e5e5",
  },
  limits: {
    x: [xMin, xMax],
    y: [yMin, yMax]
  },
  background: "#00000000",
  mmPerUnit: 25.4
});